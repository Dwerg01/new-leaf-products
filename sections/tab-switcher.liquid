<link rel="stylesheet" href="{{ 'base.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'tab-switcher.css' | asset_url }}" media="print" onload="this.media='all'">


<div class="section__body">
    <container class="main-tab-container">
        <div class="tabs__header">
            <button class="tabs__button tabs__button--active" data-for-tab="1">Description</button>
            <button class="tabs__button" data-for-tab="2">Information</button>
            <button class="tabs__button" data-for-tab="3" style="margin-right:auto !important;">FAQs</button>
        </div>
        <div class="subtitle">
          <h3 style="text-align: center;">Why New Leaf Product's {{ product.metafields.descriptors.subtitle  }}?</h3>
          <p> {{ product.metafields.custom.main_benefit }} </p>
        </div>
        <div class="tabs__content tabs__content--active" data-tab="1">
          <div class="half__image">  
            <img  src="{{ product.metafields.custom.feature_image | image_url | aspect-ratio: 1.28 }}" alt ="{{ product.metafields.descriptors.subtitle }} with listed main benefits"/>
          </div>
            <div class="text-box">
        
                    <h3>{{ product.metafields.custom.benefit_header }}</h3>
                    <p class="text">
                        {{ product.metafields.custom.benefit_text }}
                        </p>
        
        
                    <h3>{{ product.metafields.custom.nutrient_header }}</h3>
                    <p class="text">
                        {{ product.metafields.custom.nutrient_text }}
                    </p>
            </div>
        </div>
        <div class="tabs__content" data-tab="2">
    
            <div class="info text">
    
    
                <h3>Key Benefits</h3>
                <p class="text">
                    {{ product.metafields.custom.benefit_text }}
                </p>
    
    
                <h3>Ingredients</h3>
                <p class="text">
                    {{ product.metafields.custom.ingredients }}
                </p>
                <h3>Supply</h3>
                <p class="text">
                    {{ product.metafields.custom.product_supply }}
                </p>
            </div>
            <img class="info__image" src="" alt=""/>
    
        </div>
    
        <div class="tabs__content" data-tab="3">
            <p style="width:100%;">FAQ placeholder</p>
        </div>
    
    </container>
</div>

{% javascript %}
    function setupTabs() {
        document.querySelectorAll(".tabs__button").forEach(button => {

            button.addEventListener("pointerdown", () => {

                const sideBar = button.parentElement;
                const tabContainer = sideBar.parentElement;
                const tabNumber = button.dataset.forTab;
                const tabToActivate = tabContainer.querySelector(`.tabs__content[data-tab="${tabNumber}"]`);

                sideBar.querySelectorAll(".tabs__button").forEach(button => {
                    button.classList.remove("tabs__button--active");
                });

                tabContainer.querySelectorAll(".tabs__content").forEach(tab => {
                    tab.classList.remove("tabs__content--active");
                });

                button.classList.add("tabs__button--active");
                tabToActivate.classList.add("tabs__content--active");
            });
        })
    }

    document.addEventListener("DOMContentLoaded", () => {
        setupTabs()
    })

{% endjavascript %}

{% schema %}
    {
      "name": "Tab switcher",
      "tag": "section",
      "class": "section",
      "settings": [],
          "presets": [
        {
          "name": "Tab switcher"
        }
      ]
    }
  {% endschema %}